webpackJsonp([1],{108:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app",mounted:function(){this.$router.push({name:"Main"})}}},109:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{language:{errTxt:"抱歉！出錯啦......",backBtn:"返回"}}},methods:{back:function(){this.$router.push({name:"FileRecord"})}}}},110:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(113),n=a.n(s);e.default={data:function(){return{fileList:[],ruleForm:{remark:""},tableData1:[],tableData2:[],subBtnDis:!0,selection:[]}},methods:{handleRemove:function(t,e){e.length<=0&&(this.subBtnDis=!0),this.fileList=e},uploadSuccess:function(t,e,a){a.length>0&&(this.subBtnDis=!1),this.fileList=a,this.tableData1=[],this.tableData2=[]},submitForm:function(){var t=this;if(t.fileList.length<="0")this.$message({message:"请先选择要标记的文件",type:"warning"});else{var e=new Array;for(var a in t.fileList)e.push(t.fileList[a].response.data.id);e=n()(e),this.$http.get("/fms/file/signFile",{params:{fileIds:e,tag:t.ruleForm.tag,remark:t.ruleForm.remark,fireWallNumber:t.ruleForm.code}}).then(function(e){var a=e.data;for(var s in a){var n=new Array;n.name=a[s].fileName,n.id=a[s].id,1==a[s].status?(n.status="success",n.mes="成功",t.tableData1.push(n)):3==a[s].status?(n.status="danger",n.mes="格式错误",t.tableData2.push(n)):2==a[s].status&&(n.status="danger",n.mes="失败",t.tableData2.push(n))}t.$refs.upload.clearFiles(),t.subBtnDis=!0})}},selectRow:function(t){var e=new Array;for(var a in t)e.push(t[a].id);this.selection=n()(e),console.log(t)},handleDownFiles:function(){var t=this;console.log(this.selection),this.selection.length<="0"?this.$message({message:t.language.downFilesMes,type:"warning"}):window.open(t.$rootPath+"/fms/file/downLoadFile?fileIds="+t.selection)},rowStyle:function(){return"row-style"}},mounted:function(){}}},111:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},methods:{handleCardClick:function(t){this.$router.push({name:t})},cardClick:function(){window.location.href="http://47.93.199.61:8080"}},mounted:function(){}}},112:function(t,e,a){"use strict";function s(t,e){return t+="",e.length>t.length?e.substring(t.length)+t:t}Object.defineProperty(e,"__esModule",{value:!0});var n=a(2),r=a(37),i=a.n(r),l=a(66),o=(a.n(l),a(64)),c=a(36),u=a(65),d=(a.n(u),a(67)),f=a.n(d);n.default.config.productionTip=!1,n.default.use(i.a),n.default.prototype.$rootPath="http://47.93.199.61:8081",n.default.prototype.$RootPath=function(){var t=window.document.location.href,e=window.document.location.pathname,a=t.indexOf(e);return t.substring(0,a)},n.default.prototype.$getNowFormatDate=function(){var t=new Date,e=t.getMonth()+1,a=t.getDate();return e>=1&&e<=9&&(e="0"+e),a>=0&&a<=9&&(a="0"+a),t.getFullYear()+"-"+e+"-"+a+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},n.default.prototype.$formatDate=function(t,e){for(var a={MMM:["一","二","三","四","五","六","七","八","九","十","十一","十二"],MMMM:["一","二","三","四","五","六","七","八","九","十","十一","十二"]},n={y:t.getFullYear(),M:t.getMonth()+1,d:t.getDate(),H:t.getHours(),m:t.getMinutes(),s:t.getSeconds(),S:t.getMilliseconds()},r=e.match(/y+|M+|d+|H+|m+|s+|S+|[^yMdHmsS]/g),i=0;i<r.length;i++)a[r[i]]?r[i]=a[r[i]][n[r[i].charAt(0)]]:n[r[i].charAt(0)]&&(r[i]=s(n[r[i].charAt(0)],r[i].replace(/./g,"0")));return r.join("")},n.default.prototype.$http=o.a,new n.default({el:"#app",router:c.a,template:"<App/>",components:{App:f.a}})},167:function(t,e){},168:function(t,e){},169:function(t,e){},170:function(t,e){},171:function(t,e){},172:function(t,e){},175:function(t,e,a){t.exports=a.p+"static/img/404.93c9805.png"},176:function(t,e,a){function s(t){a(169)}var n=a(20)(a(109),a(180),s,"data-v-45d8eb11",null);t.exports=n.exports},177:function(t,e,a){function s(t){a(168),a(167)}var n=a(20)(a(110),a(179),s,"data-v-204cb9de",null);t.exports=n.exports},178:function(t,e,a){function s(t){a(170)}var n=a(20)(a(111),a(181),s,"data-v-60fe1180",null);t.exports=n.exports},179:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"inner"},[a("el-row",{staticClass:"fullHeight"},[a("el-col",{staticClass:"fullHeight",attrs:{span:12}},[a("el-upload",{ref:"upload",staticClass:"upload",attrs:{action:this.$rootPath+"/fms/file/upload","on-success":t.uploadSuccess,"on-remove":t.handleRemove,"file-list":t.fileList,multiple:""}},[a("el-button",{attrs:{size:"small"},slot:"trigger"},[t._v("上传需标记文件")]),t._v(" "),a("div",{staticClass:"upload-title"},[t._v("上传文件列表")])],1),t._v(" "),a("div",{staticClass:"fileMake"},[a("div",{staticClass:"upload-title"},[t._v("标记文件信息"),a("span",{staticClass:"el-upload__tip",slot:"tip"},[t._v("（对以上文件进行统一标记）")])]),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"makeform",attrs:{model:t.ruleForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{staticClass:"form-input",model:{value:t.ruleForm.remark,callback:function(e){t.ruleForm.remark=e},expression:"ruleForm.remark"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",disabled:t.subBtnDis},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("开始标记")])],1)],1)],1)],1),t._v(" "),a("el-col",{staticClass:"fullHeight",attrs:{span:12}},[a("div",{staticClass:"upload-title"},[t._v("本次完成标记文件\n            "),a("el-button",{attrs:{size:"small"},on:{click:t.handleDownFiles}},[t._v("下载已标记文件")])],1),t._v(" "),a("el-table",{staticClass:"table",staticStyle:{width:"100%"},attrs:{data:t.tableData1,stripe:"",height:"100%"},on:{select:t.selectRow,"select-all":t.selectRow}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"文件名称"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:e.row.status}},[t._v(t._s(e.row.mes))])]}}])})],1),t._v(" "),a("el-table",{staticClass:"table",staticStyle:{width:"100%","border-top":"none","margin-top":"0"},attrs:{data:t.tableData2,stripe:"",height:"100%","show-header":!1}},[a("el-table-column",{attrs:{width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"文件名称"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:e.row.status}},[t._v("\n    "+t._s(e.row.mes))])]}}])})],1)],1)],1)],1)])},staticRenderFns:[]}},180:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"error-imgbox"},[s("img",{staticClass:"error-img",attrs:{src:a(175),alt:""}})]),t._v(" "),s("div",{staticClass:"error-txt"},[t._v(t._s(t.language.errTxt))]),t._v(" "),s("div",{staticClass:"error-btnbox"},[s("el-button",{attrs:{type:"primary"},on:{click:t.back}},[t._v(t._s(t.language.backBtn))])],1)])},staticRenderFns:[]}},181:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"container"},[a("div",{staticClass:"card",on:{click:function(e){t.cardClick()}}},[a("i",{staticClass:"iconfont icon-data card-icon"}),t._v(" "),a("div",{staticClass:"card-txt"},[t._v("数据分析")])]),t._v(" "),a("div",{staticClass:"card",on:{click:function(e){t.handleCardClick("FileMake")}}},[a("i",{staticClass:"iconfont icon-file card-icon"}),t._v(" "),a("div",{staticClass:"card-txt"},[t._v("文件追踪")])])]),t._v(" "),t._m(0),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header clearfix"},[a("div",{staticClass:"logo-txt fl"},[t._v("文件管理系统")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer"},[a("p",[t._v("网域复兴科技有限公司 All Rights Reserved")])])}]}},182:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},36:function(t,e,a){"use strict";var s=a(2),n=a(183),r=a(178),i=a.n(r),l=a(176),o=a.n(l),c=a(177),u=a.n(c);s.default.use(n.a);var d=new n.a({routes:[{path:"/main",name:"Main",component:i.a},{path:"/error",name:"Error",component:o.a},{path:"/file-make",name:"FileMake",component:u.a}]});e.a=d},64:function(t,e,a){"use strict";var s=a(114),n=a.n(s),r=a(89),i=a.n(r),l=a(37),o=(a.n(l),a(36));i.a.defaults.baseURL="http://47.93.199.61:8081",i.a.defaults.withCredentials=!0;var c;i.a.interceptors.request.use(function(t){return c=l.Loading.service({fullscreen:!0}),t},function(t){return c.close(),l.Message.error({message:"加载超时"}),n.a.reject(t)}),i.a.interceptors.response.use(function(t){return c.close(),t},function(t){c.close(),console.log(t),o.a.push({name:"Error"})}),e.a=i.a},65:function(t,e){},66:function(t,e){},67:function(t,e,a){function s(t){a(171),a(172)}var n=a(20)(a(108),a(182),s,null,null);t.exports=n.exports}},[112]);
//# sourceMappingURL=app.b696390b595fef9c5344.js.map